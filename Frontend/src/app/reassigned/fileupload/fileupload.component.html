<!-- Button trigger modal -->


<!-- Modal -->


<app-header [show]="true"></app-header>

<app-middle title="Reassigned file upload" description=""></app-middle>
<main>

    <section>
        <div class="container">
            <div class="mt-5 mb-5 change-div">
                <div class="labels">
                    <label for="name">Create file<span>*</span></label>
                    <input type="button" name="button" data-bs-toggle="modal" data-bs-target="#filenameenter"
                        value="Create file" />
                </div>


                <div class="example-container mat-elevation-z8">

                    <mat-table [dataSource]="dataSource" matSort>
                        <ng-container matColumnDef="sr_no">
                            <mat-header-cell *matHeaderCellDef> Srno
                            </mat-header-cell>
                            <mat-cell *matCellDef="let row"> {{ row.sr_no}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="uid">
                            <mat-header-cell *matHeaderCellDef> U_id
                            </mat-header-cell>
                            <mat-cell *matCellDef="let row">{{row.uid ? row['uid']: '-'}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="username">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Username
                            </mat-header-cell>

                            <mat-cell *matCellDef="let row"> {{ row['username'] ? row['username']: '-'}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="input_file">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>Input file </mat-header-cell>
                            <mat-cell *matCellDef="let row"> {{ row['input_file'] ? row['input_file']: '-'}} </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="type">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Type </mat-header-cell>
                            <mat-cell *matCellDef="let row"> {{ row['type'] ? row['type']: '-'}}
                            </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="Action">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Action </mat-header-cell>
                            <mat-cell *matCellDef="let row">
                                <mat-icon (click)="download(row)">cloud_download</mat-icon>
                            </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;">
                        </mat-row>
                    </mat-table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]">
                    </mat-paginator>
                </div>
            </div>
        </div>
    </section>
</main>
<app-footer></app-footer>
<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-loader" [fullScreen]="true">
    <p style="color: white"> Please wait ... </p>
</ngx-spinner>

<div class="modal fade" id="filenameenter" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">File Name</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- <div class="labels">
                    <label for="name"> File Name<span></span></label>
                    <input type="text" name="text" [(ngModel)]="filename" placeholder="Please enter file name"
                        autocomplete="off" autofocus />
                </div> -->
                <div class="custom-file">

                    <label for="name"> File Name<span>*</span></label>
                    <input type="file" class="custom-file-input"
                        accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                        ID="fileInput" (change)="csvuplaod($event.target)">
                    <!-- -->
                    <label class="custom-file-label" #labelImport for="fileInput"> Select
                        file</label>
                </div>
                <!-- <div class="labels">
                    <label for="name"> File Tag<span></span></label>
                    <input type="text" [(ngModel)]="filetag" name="text" placeholder="Please enter file tag name"
                        autocomplete="off" autofocus />
                </div>
                <div class="labels">
                    <label for="name"> File Folder<span></span></label>
                    <input type="text" [(ngModel)]="foldername" name="text" placeholder="Please enter file folder name"
                        autocomplete="off" autofocus />
                </div> -->
            </div>
            <div class="modal-footer">
                <button type="button" #closebutton class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="submitfile()">Save changes</button>
                <!--  -->
            </div>
        </div>
    </div>
</div>




<div class="modal fade" id="deletemodel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="exampleModalLabel">Delete</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                Are you sure you want to delete this file ?
            </div>
            <div class="modal-footer">
                <button type="button" #deleteclosebutton class="btn btn-secondary"
                    data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Yes</button>
                <!-- (click)="deletefile()" -->
            </div>
        </div>
    </div>
</div>